module.exports=function(t){var o={};function e(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}return e.m=t,e.c=o,e.d=function(t,o,n){e.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,o){if(1&o&&(t=e(t)),8&o)return t;if(4&o&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var r in t)e.d(n,r,function(o){return t[o]}.bind(null,r));return n},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},e.p="",e(e.s=12)}([function(t,o){t.exports=flarum.core.compat["forum/app"]},function(t,o){t.exports=flarum.core.compat["common/extend"]},function(t,o){t.exports=flarum.core.compat["forum/components/CommentPost"]},function(t,o){t.exports=flarum.core.compat["common/Model"]},function(t,o){t.exports=flarum.core.compat["common/models/Post"]},,function(t,o){t.exports=flarum.core.compat["common/components/Modal"]},function(t,o){t.exports=flarum.core.compat["common/components/LoadingIndicator"]},function(t,o){t.exports=flarum.core.compat["common/helpers/avatar"]},function(t,o){t.exports=flarum.core.compat["common/helpers/username"]},function(t,o){t.exports=flarum.core.compat["common/components/Link"]},,function(t,o,e){"use strict";e.r(o);var n=e(0),r=e.n(n),a=e(3),s=e.n(a),i=e(4),u=e.n(i),c=e(1),l=e(2),p=e.n(l);function f(t,o){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,o){return t.__proto__=o,t})(t,o)}var d=e(6),v=e.n(d),h=e(7),y=e.n(h),b=e(8),x=e.n(b),g=e(9),_=e.n(g),w=e(10),O=e.n(w),j=function(t){var o,e;function n(){return t.apply(this,arguments)||this}e=t,(o=n).prototype=Object.create(e.prototype),o.prototype.constructor=o,f(o,e);var a=n.prototype;return a.className=function(){return"VotesModal Modal--small"},a.title=function(){return r.a.translator.trans("fof-gamification.forum.modal.title")},a.oninit=function(o){t.prototype.oninit.call(this,o),this.showTypes=this.attrs.showTypes||[],this.loading=!this.attrs.post.upvotes()||!this.attrs.post.downvotes(),this.loading&&this.load()},a.content=function(){var t=this;return this.loading?m("div",{className:"Modal-body"},m(y.a,null)):m("div",{className:"Modal-body"},m("ul",{className:"VotesModal-list"},this.showTypes.map((function(o){var e=t.attrs.post[o]();if(e&&e.length)return m("div",null,m("legend",null,r.a.translator.trans("fof-gamification.forum.modal."+o+"_label")),e.map((function(t){return m("li",null,m(O.a,{href:r.a.route.user(t)},x()(t)," ",_()(t)))})))}))))},a.load=function(){return r.a.store.find("posts",this.attrs.post.id(),{include:"upvotes,downvotes"}).then(this.loaded.bind(this))},n}(v.a);r.a.initializers.add("kater/gamificationextend",(function(){console.log("[kater/gamificationextend] Hello, forum!"),u.a.prototype.upvotes_sum=s.a.attribute("upvotes_sum"),u.a.prototype.downvotes_sum=s.a.attribute("downvotes_sum"),Object(c.extend)(p.a.prototype,"actionItems",(function(t){var o=this.attrs.post;if(t.has("votes")){var e=t.get("votes");e.children[1]=m("label",{className:"Post-points",onclick:function(){r.a.modal.show(j,{post:o,showTypes:["upvotes"]})}},o.upvotes_sum()),e.children[3]=m("label",{className:"Post-points",onclick:function(){r.a.modal.show(j,{post:o,showTypes:["downvotes"]})}},parseInt(o.downvotes_sum())<6?"-":o.downvotes_sum())}})),Object(c.extend)(p.a.prototype,"headerItems",(function(t){var o=this.attrs.post;t.add("louceng",m("div",o.number()+app.translator.trans("kater-gamificationextend.forum.louceng")))}))}),-10)}]);
//# sourceMappingURL=forum.js.map